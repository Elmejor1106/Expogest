<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="es">
<head>
    <meta charset="UTF-8">
    <title>Panel Organizador</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <div th:replace="~{fragments/navbar :: styles}"></div>
</head>
<body>

<!-- Navbar -->
<div th:replace="~{fragments/navbar :: navbar('Organizador', '/organizador/panelOrganizador')}"></div>

<div class="container py-5">
    <!-- Estadísticas Principales -->
    <div class="row mb-4 g-3">
        <div class="col-md-3">
            <div class="card text-center shadow-sm border-0" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                <div class="card-body text-white">
                    <i class="bi bi-calendar-event display-4 mb-2"></i>
                    <h3 class="mb-0" th:text="${eventosStats['total']}">0</h3>
                    <p class="mb-0">Total Eventos</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="card text-center shadow-sm border-0" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                <div class="card-body text-white">
                    <i class="bi bi-clock-history display-4 mb-2"></i>
                    <h3 class="mb-0" th:text="${solicitudesPendientes}">0</h3>
                    <p class="mb-0">Solicitudes Pendientes</p>
                    <span th:if="${solicitudesPendientes > 0}" class="badge bg-warning">¡Requiere atención!</span>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="card text-center shadow-sm border-0" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                <div class="card-body text-white">
                    <i class="bi bi-check-circle display-4 mb-2"></i>
                    <h3 class="mb-0" th:text="${solicitudesStats['aprobadas']}">0</h3>
                    <p class="mb-0">Solicitudes Aprobadas</p>
                </div>
            </div>
        </div>
        
        <div class="col-md-3">
            <div class="card text-center shadow-sm border-0" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                <div class="card-body text-white">
                    <i class="bi bi-grid-3x3-gap display-4 mb-2"></i>
                    <h3 class="mb-0" th:text="${standsDisponibles}">0</h3>
                    <p class="mb-0">Stands Disponibles</p>
                    <small th:text="'De ' + ${standsTotal} + ' totales'"></small>
                </div>
            </div>
        </div>
    </div>

    <!-- Estadísticas Detalladas -->
    <div class="row mb-4">
        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-bar-chart me-2"></i>Estado de Eventos</h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-6 mb-3">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${eventosStats['activos']}" class="text-success mb-0">0</h4>
                                <small class="text-muted">Activos</small>
                            </div>
                        </div>
                        <div class="col-6 mb-3">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${eventosStats['planificacion']}" class="text-warning mb-0">0</h4>
                                <small class="text-muted">En Planificación</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${eventosStats['finalizados']}" class="text-secondary mb-0">0</h4>
                                <small class="text-muted">Finalizados</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${eventosStats['cancelados']}" class="text-danger mb-0">0</h4>
                                <small class="text-muted">Cancelados</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card shadow-sm">
                <div class="card-header bg-info text-white">
                    <h5 class="mb-0"><i class="bi bi-file-text me-2"></i>Estado de Solicitudes</h5>
                </div>
                <div class="card-body">
                    <div class="row text-center">
                        <div class="col-6 mb-3">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${solicitudesStats['pendientes']}" class="text-warning mb-0">0</h4>
                                <small class="text-muted">Pendientes</small>
                            </div>
                        </div>
                        <div class="col-6 mb-3">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${solicitudesStats['aprobadas']}" class="text-success mb-0">0</h4>
                                <small class="text-muted">Aprobadas</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${solicitudesStats['rechazadas']}" class="text-danger mb-0">0</h4>
                                <small class="text-muted">Rechazadas</small>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="p-3 bg-light rounded">
                                <h4 th:text="${solicitudesStats['canceladas']}" class="text-secondary mb-0">0</h4>
                                <small class="text-muted">Canceladas</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Accesos Rápidos -->
    <div class="card shadow-sm">
        <div class="card-header">
            <h2 class="mb-0"><i class="bi bi-grid me-2"></i>Accesos Rápidos</h2>
        </div>
        <div class="card-body p-4">
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center p-4">
                            <div class="mb-3">
                                <i class="bi bi-grid-3x3-gap display-4" style="color: #FFD600;"></i>
                            </div>
                            <h5 class="card-title">Gestionar Stands</h5>
                            <p class="card-text text-muted">Administra los stands disponibles</p>
                            <a th:href="@{/organizador/stands}" class="btn btn-primary w-100">
                                <i class="bi bi-box-arrow-right me-2"></i>Acceder
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center p-4">
                            <div class="mb-3">
                                <i class="bi bi-clock-history display-4" style="color: #FFD600;"></i>
                            </div>
                            <h5 class="card-title">Gestionar Cronograma</h5>
                            <p class="card-text text-muted">Organiza horarios y actividades</p>
                            <a th:href="@{/organizador/cronograma}" class="btn btn-primary w-100">
                                <i class="bi bi-box-arrow-right me-2"></i>Acceder
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center p-4">
                            <div class="mb-3">
                                <i class="bi bi-easel2 display-4" style="color: #FFD600;"></i>
                            </div>
                            <h5 class="card-title">Gestionar Eventos</h5>
                            <p class="card-text text-muted">Crea y administra eventos</p>
                            <a th:href="@{/eventos}" class="btn btn-primary w-100">
                                <i class="bi bi-box-arrow-right me-2"></i>Acceder
                            </a>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center p-4">
                            <div class="mb-3">
                                <i class="bi bi-clipboard-check display-4" style="color: #FFD600;"></i>
                                <span th:if="${solicitudesPendientes > 0}" 
                                      class="badge bg-danger position-absolute top-0 start-100 translate-middle" 
                                      th:text="${solicitudesPendientes}">0</span>
                            </div>
                            <h5 class="card-title">Solicitudes</h5>
                            <p class="card-text text-muted">Revisa solicitudes pendientes</p>
                            <a th:href="@{/solicitudes/pendientes}" class="btn btn-primary w-100">
                                <i class="bi bi-box-arrow-right me-2"></i>Acceder
                                <span th:if="${solicitudesPendientes > 0}" class="badge bg-warning text-dark ms-2" 
                                      th:text="${solicitudesPendientes}"></span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<footer class="text-center text-white mt-5">
    <small>© 2025 ExpoGest. Todos los derechos reservados.</small>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
